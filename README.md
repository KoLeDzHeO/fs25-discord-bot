fs25-discord-bot
=================

Асинхронный Discord-бот для отображения техники, требующей обслуживания.

Техника делится на три категории:

* **Повреждённая техника (низкое топливо + повреждение)** — повреждение более 50% или топливо ниже 40%.
* **Сильно загрязнённая техника** — загрязнение более 50%. Если повреждения меньше 5%, этот параметр не отображается.
* **Остальная техника** — повреждение или загрязнение более 5%. Если один из параметров ниже 5%, он не выводится.

Все параметры подключения и пути настраиваются через `config/config.py` или переменные окружения.

### Переменные окружения

При указании переменных окружения значения не нужно брать в кавычки. Пример конфигурации:

```bash
DISCORD_TOKEN=your_token
DISCORD_CHANNEL_ID=123456789012345678
FTP_HOST=ftp.example.com
FTP_PORT=21
FTP_USER=username
FTP_PASS=secret
FTP_PATH=/profile/savegame1/vehicles.xml
FTP_PATH_FIELDS=/profile/savegame1/fields.xml
FARM_ID=1
```

Если значение всё же содержит кавычки, бот удалит их автоматически при загрузке настроек.

Запуск бота:

```bash
python main.py
```

Загрузка файлов на FTP сервер:

```bash
python -m ftp.upload local.zip /remote/path/remote.zip
```
